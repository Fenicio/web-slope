<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Skiing Game - Slope Runner</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <!-- Game UI Overlay -->
        <div id="ui-overlay">
            <!-- Notification -->
            <div id="notification" class="notification hidden"></div>

            <div id="stats">
                <div class="stat-item">
                    <span class="stat-label">Lives:</span>
                    <span id="lives-count">3</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Gems:</span>
                    <span id="gems-count">0/3</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Speed:</span>
                    <span id="speed-count">0</span> km/h
                </div>
                <div class="stat-item">
                    <span class="stat-label">Distance:</span>
                    <span id="distance-count">0</span> m
                </div>
            </div>

            <!-- Speed Bars -->
            <div id="speed-bars-container">
                <div class="speed-bar-label">Speed</div>
                <div id="speed-bar" class="speed-bar">
                    <div id="speed-bar-fill" class="speed-bar-fill"></div>
                </div>
                <div id="danger-bar" class="danger-bar">
                    <div id="danger-bar-fill" class="danger-bar-fill"></div>
                </div>
                <div class="speed-bar-label danger-label">Danger</div>
            </div>
        </div>

        <!-- Start Screen -->
        <div id="start-screen" class="screen-overlay">
            <div class="screen-content">
                <h1>Slope Runner</h1>
                <p>Navigate down the dark slope and collect 3 gems to find the exit!</p>
                <div class="instructions">
                    <h3>Controls:</h3>
                    <p>← → or A/D keys to tilt and slide</p>
                    <p>P or ESC to pause</p>
                    <h3>Gameplay:</h3>
                    <p>Tilt left/right to slide in that direction</p>
                    <p>Change direction every 0.5s to boost speed!</p>
                    <p>Speed gradually drops to base speed</p>
                    <p>Keep speed above the rising red danger bar!</p>
                    <p>Avoid trees and mounds</p>
                </div>
                <button id="start-button" class="game-button">Start Game</button>
            </div>
        </div>

        <!-- Win Screen -->
        <div id="win-screen" class="screen-overlay hidden">
            <div class="screen-content">
                <h1>Victory!</h1>
                <p>You collected all 3 gems and found the exit!</p>
                <p>Distance: <span id="final-distance">0</span> m</p>
                <button id="restart-win-button" class="game-button">Play Again</button>
            </div>
        </div>

        <!-- Pause Screen -->
        <div id="pause-screen" class="screen-overlay hidden">
            <div class="screen-content">
                <h1>Paused</h1>
                <p>Press P or ESC to resume</p>
                <div class="stats-summary">
                    <p>Distance: <span id="pause-distance">0</span> m</p>
                    <p>Gems: <span id="pause-gems">0</span>/3</p>
                    <p>Lives: <span id="pause-lives">3</span></p>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="screen-overlay hidden">
            <div class="screen-content">
                <h1>Game Over</h1>
                <p id="gameover-reason">You crashed!</p>
                <p>Distance: <span id="gameover-distance">0</span> m</p>
                <p>Gems Collected: <span id="gameover-gems">0</span>/3</p>
                <button id="restart-button" class="game-button">Try Again</button>
            </div>
        </div>

        <!-- Three.js Canvas will be inserted here -->
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
            }
        }
    </script>
    <script type="module" src="game.js"></script>
</body>
</html>
